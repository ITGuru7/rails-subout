<div id="opportunities">
  <div class="row-fluid">
    <div class="search pull-right span4">
      <input ng-model="opportunityQuery" placeholder="Search opportunities for..."/>
      <div class="icon-search"></div>
    </div>
  </div>
  <table class="table">
    <tr>
      <th>Reference #</th>
      <th>Type</th>
      <th>Name</th>
      <th>Description</th>
      <th>Ends</th>
      <th>Winning Bidder</th>
      <th>Amount</th>
    </tr>
    <tr ng-repeat="opportunity in opportunities | orderBy:'bidding_ends_at':true | filter:opportunityFilter" >
      <td>{{opportunity.reference_number}}</td>
      <td>{{opportunity.type}}</td>
      <td><a href="#/opportunities/{{opportunity.reference_number}}">{{opportunity.name}}</a></td>
      <td>{{opportunity.description}}</td>
      <td>
        <span class='created-at timeago' relative-time title="{{opportunity.bidding_ends_at}}">{{opportunity.bidding_ends_at|date}}</span>
      </td>
      <td>{{opportunity.winner.name}}</td>
      <td>
        <span ng-show="opportunity.winner.name" ui-currency ng-model="opportunity.winner.amount"></span>
      </td>
    </tr>
  </table>
</div>
