<div id="available_opportunities">
  <table class="table">
    <tr>
      <th>Reference #</th>
      <th>Type</th>
      <th>Name</th>
      <th>Description</th>
      <th>
        Created
        <i ng-show="sortBy != 'created_at'" ng-click="sortBy = 'created_at';reloadOpportunities()" class="icon-large icon-caret-down"></i>
      </th>
      <th>
        Ends
        <i ng-show="sortBy != 'bidding_ends_at'" ng-click="sortBy = 'bidding_ends_at';reloadOpportunities()" class="icon-large icon-caret-down"></i>
      </th>
      <th>Current Bid</th>
      <th>Actions</th>
    </tr>

    <tr ng-repeat="opportunity in opportunities | filter:opportunityFilter" >
      <td><a class="reference-number" href="#/dashboard?q=%23{{opportunity.reference_number}}">#{{opportunity.reference_number}}</a></td>
      <td>{{opportunity.type}}</td>
      <td><a href="#/opportunities/{{opportunity.reference_number}}">{{opportunity.name}}</a></td>
      <td>{{opportunity.description}}</td>
      <td>
        <span class='created-at timeago' relative-time title="{{opportunity.created_at}}">{{opportunity.created_at|date}}</span>
      </td>
      <td>
        <span class='created-at timeago' relative-time title="{{opportunity.bidding_ends_at}}">{{opportunity.bidding_ends_at|date}}</span>
      </td>
      <td><span ng-show="opportunity.current_bid_amount">${{opportunity.current_bid_amount}}</span></td>
      <td>
        <a href="#modal" class="btn btn-success btn-small" data-toggle="modal" ng-click="displayNewBidForm(opportunity)">Bid</a>
      </td>
    </tr>
  </table>
</div>
